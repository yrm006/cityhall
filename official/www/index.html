<!DOCTYPE html>
<html>

<head>
    <script language="javascript">
    function onSubmit(){
        let param = {
            method:  "POST",
            headers: { "content-type": "application/json; charset=utf-8" },
            body:    JSON.stringify( { s: document.getElementById('idMessage').value, u: document.getElementById('idUrl').value } ),
        };
        fetch("http://localhost:8080/message", param).then(async function(res){
            let obj = await res.json();
            alert( JSON.stringify(obj) );
        }).catch(function(e){alert(e);});
    }
    </script>
</head>

<body>
	<h2>The message to be sent</h2>

	<p>
	<div>
        <p>メッセージ</p>
        <textarea id="idMessage"></textarea>
        <p>url<input type="text" id="idUrl"></p>
	</div>
	<div>
		<button onclick="onSubmit();">submit</button>
	</div>
	</p>
</body>

</html>